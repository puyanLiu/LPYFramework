<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    </body>
</html>

<script>
//但这种实现方式有着不少缺陷：
//
//    要增加更多形状的周长计算时，必须改动computePerimeter函数，可扩展性差；
//    算法集中在computePerimeter函数，随着形状越来越多，这个函数会越来越庞大，最终变得难以维护；
//    computePerimeter通过shape.type判定形状类型，但如果type属性值错误（如拼错或大小写错误），就无法计算出正确的周长值


var rectangle = {
    name: '长方形1',
    type: 'rectangle',
    length: 5,  // 长
    width: 10   // 宽
};
var square = {
    name: '正方形1',
    type: 'square',
    length: 5  // 边长
};
var circle = {
    name: '圆形1',
    type: 'circle',
    radius: 5  // 半径
};


var result = computePerimeter(rectangle);
console.log(result);

function computePerimeter(shape) {
    var result;
    switch (shape.type) {
        case 'rectangle':
        	// 矩形周长：(长+宽)*2
        	result = (shape.length + shape.width) * 2;
        	break;
        case 'square':
        	// 正方形周长：边长*4
        	result = shape.length * 4;
        	break;
        case 'circle':
        	// 圆形周长：2*PI*半径
        	result = 2 * Math.PI * shape.radius;
        	break;
    }

    return shape.name + '的周长是' + result;
}



</script>