<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>应用缓存</title>
        <link rel="stylesheet" href="05cache.css">
    </head>
    <body>
    	<h1>你现在就可以断开网络，刷新试一下！</h1>
    	<img src="toy.png" alt="">
    	<script src="05cache.js"></script>
    	<script>
    		if (window.applicationCache) {
    			window.applicationCache.addEventListener('updateready', function(e) {
    				// 更新完成触发
    				if(window.applicationCache.status == window.applicationCache.UPDATEREADY) {
    					window.applicationCache.swapCache();
    					if (confirm('更新成功，是否刷新页面')) {
    						window.location.reload();
    					}
    				}
    			});
    		}
    	</script>
    </body>
</html>